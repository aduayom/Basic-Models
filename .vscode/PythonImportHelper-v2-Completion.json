[
    {
        "label": "pandas",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "pandas",
        "description": "pandas",
        "detail": "pandas",
        "documentation": {}
    },
    {
        "label": "numpy",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "numpy",
        "description": "numpy",
        "detail": "numpy",
        "documentation": {}
    },
    {
        "label": "linear_model",
        "importPath": "sklearn",
        "description": "sklearn",
        "isExtraImport": true,
        "detail": "sklearn",
        "documentation": {}
    },
    {
        "label": "metrics",
        "importPath": "sklearn",
        "description": "sklearn",
        "isExtraImport": true,
        "detail": "sklearn",
        "documentation": {}
    },
    {
        "label": "linear_model",
        "importPath": "sklearn",
        "description": "sklearn",
        "isExtraImport": true,
        "detail": "sklearn",
        "documentation": {}
    },
    {
        "label": "matplotlib.pyplot",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "matplotlib.pyplot",
        "description": "matplotlib.pyplot",
        "detail": "matplotlib.pyplot",
        "documentation": {}
    },
    {
        "label": "seaborn",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "seaborn",
        "description": "seaborn",
        "detail": "seaborn",
        "documentation": {}
    },
    {
        "label": "stats",
        "importPath": "scipy",
        "description": "scipy",
        "isExtraImport": true,
        "detail": "scipy",
        "documentation": {}
    },
    {
        "label": "pyplot",
        "importPath": "matplotlib",
        "description": "matplotlib",
        "isExtraImport": true,
        "detail": "matplotlib",
        "documentation": {}
    },
    {
        "label": "train_test_split",
        "importPath": "sklearn.model_selection",
        "description": "sklearn.model_selection",
        "isExtraImport": true,
        "detail": "sklearn.model_selection",
        "documentation": {}
    },
    {
        "label": "LogisticRegression",
        "importPath": "sklearn.linear_model",
        "description": "sklearn.linear_model",
        "isExtraImport": true,
        "detail": "sklearn.linear_model",
        "documentation": {}
    },
    {
        "label": "df",
        "kind": 5,
        "importPath": "Linear regression.Linear_regression",
        "description": "Linear regression.Linear_regression",
        "peekOfCode": "df = pd.read_csv('other_files\\cells.csv')\nprint(df)\n#plt.xlabel('time')\n#plt.ylabel('cells')\n#plt.scatter(df.time, df.cells,color='red',marker='+')\n#For linear regression, Y=the value we want to predict\n#X= all independent variables upon which Y depends. \n#3 steps for linear regression....\n#Step 1: Create the instance of the model\n#Step 2: .fit() to train the model or fit a linear model",
        "detail": "Linear regression.Linear_regression",
        "documentation": {}
    },
    {
        "label": "x_df",
        "kind": 5,
        "importPath": "Linear regression.Linear_regression",
        "description": "Linear regression.Linear_regression",
        "peekOfCode": "x_df = df.drop('cells', axis='columns')\n#Or you can pick columns manually. Remember double brackets.\n#Single bracket returns as series whereas double returns pandas dataframe which is what the model expects.\n#x_df=df[['time']]\nprint(x_df.dtypes)  #Prints as object when you drop cells or use double brackets [[]]\n#Prints as float64 if you do only single brackets, which is not the right type for our model. \ny_df = df.cells\n#print(x_df)\n#print(y_df)\n#TO create a model instance ",
        "detail": "Linear regression.Linear_regression",
        "documentation": {}
    },
    {
        "label": "y_df",
        "kind": 5,
        "importPath": "Linear regression.Linear_regression",
        "description": "Linear regression.Linear_regression",
        "peekOfCode": "y_df = df.cells\n#print(x_df)\n#print(y_df)\n#TO create a model instance \nreg = linear_model.LinearRegression()  #Create an instance of the model.\nreg.fit(x_df,y_df)   #Train the model or fits a linear model\nprint(reg.score(x_df,y_df))  #Prints the R^2 value, a measure of how well\n#observed values are replicated by the model. \n#Test the model by Predicting cells for some values reg.predict()\nprint(\"Predicted # cells...\", reg.predict([[2.3]]))",
        "detail": "Linear regression.Linear_regression",
        "documentation": {}
    },
    {
        "label": "reg",
        "kind": 5,
        "importPath": "Linear regression.Linear_regression",
        "description": "Linear regression.Linear_regression",
        "peekOfCode": "reg = linear_model.LinearRegression()  #Create an instance of the model.\nreg.fit(x_df,y_df)   #Train the model or fits a linear model\nprint(reg.score(x_df,y_df))  #Prints the R^2 value, a measure of how well\n#observed values are replicated by the model. \n#Test the model by Predicting cells for some values reg.predict()\nprint(\"Predicted # cells...\", reg.predict([[2.3]]))\n# Y = m * X + b (m is coefficient and b is intercept)\n#Get the intercept and coefficient values\nb = reg.intercept_\nm = reg.coef_",
        "detail": "Linear regression.Linear_regression",
        "documentation": {}
    },
    {
        "label": "b",
        "kind": 5,
        "importPath": "Linear regression.Linear_regression",
        "description": "Linear regression.Linear_regression",
        "peekOfCode": "b = reg.intercept_\nm = reg.coef_\n#Manually verify the above calculation\nprint(\"From maual calculation, cells = \", (m*2.3 + b))\n#Now predict cells for a list of times by reading time values from a csv file\ncells_predict_df = pd.read_csv(\"other_files/cells_predict.csv\")\nprint(cells_predict_df.head())\npredicted_cells = reg.predict(cells_predict_df)\nprint(predicted_cells)\n#Add the new predicted cells values as a new column to cells_predict_df dataframe",
        "detail": "Linear regression.Linear_regression",
        "documentation": {}
    },
    {
        "label": "m",
        "kind": 5,
        "importPath": "Linear regression.Linear_regression",
        "description": "Linear regression.Linear_regression",
        "peekOfCode": "m = reg.coef_\n#Manually verify the above calculation\nprint(\"From maual calculation, cells = \", (m*2.3 + b))\n#Now predict cells for a list of times by reading time values from a csv file\ncells_predict_df = pd.read_csv(\"other_files/cells_predict.csv\")\nprint(cells_predict_df.head())\npredicted_cells = reg.predict(cells_predict_df)\nprint(predicted_cells)\n#Add the new predicted cells values as a new column to cells_predict_df dataframe\ncells_predict_df['cells']=predicted_cells",
        "detail": "Linear regression.Linear_regression",
        "documentation": {}
    },
    {
        "label": "cells_predict_df",
        "kind": 5,
        "importPath": "Linear regression.Linear_regression",
        "description": "Linear regression.Linear_regression",
        "peekOfCode": "cells_predict_df = pd.read_csv(\"other_files/cells_predict.csv\")\nprint(cells_predict_df.head())\npredicted_cells = reg.predict(cells_predict_df)\nprint(predicted_cells)\n#Add the new predicted cells values as a new column to cells_predict_df dataframe\ncells_predict_df['cells']=predicted_cells\nprint(cells_predict_df)\ncells_predict_df.to_csv(\"other_files/predicted_cells.csv\")\n##############################\n#",
        "detail": "Linear regression.Linear_regression",
        "documentation": {}
    },
    {
        "label": "predicted_cells",
        "kind": 5,
        "importPath": "Linear regression.Linear_regression",
        "description": "Linear regression.Linear_regression",
        "peekOfCode": "predicted_cells = reg.predict(cells_predict_df)\nprint(predicted_cells)\n#Add the new predicted cells values as a new column to cells_predict_df dataframe\ncells_predict_df['cells']=predicted_cells\nprint(cells_predict_df)\ncells_predict_df.to_csv(\"other_files/predicted_cells.csv\")\n##############################\n#\n#####################################################\n#Using Seaborn for plotting and linregress from scipy stats library",
        "detail": "Linear regression.Linear_regression",
        "documentation": {}
    },
    {
        "label": "df",
        "kind": 5,
        "importPath": "Linear regression.Linear_regression",
        "description": "Linear regression.Linear_regression",
        "peekOfCode": "df = pd.read_csv('other_files/cells.csv')\nimport seaborn as sns\nsns.set(style='darkgrid')\nsns.lmplot(x='time', y='cells', data=df, order=1)\n#If you want equation, not possible to display in seaborn but you can get it the\n#regular way using scipy stats module. \nfrom scipy import stats\nslope, intercept, r_value, p_value, std_err = stats.linregress(df['time'],df['cells'])\nprint(slope, intercept)\n#Compare the slope and intercept reported with m and b values from above.",
        "detail": "Linear regression.Linear_regression",
        "documentation": {}
    },
    {
        "label": "df",
        "kind": 5,
        "importPath": "Logistic regression.Logistic_regression",
        "description": "Logistic regression.Logistic_regression",
        "peekOfCode": "df = pd.read_csv(\"other_files/images_analyzed_productivity1.csv\")\nprint(df.head())\n#plt.scatter(df.Age, df.Productivity, marker='+', color='red')\n#plt.scatter(df.Time, df.Productivity, marker='+', color='red')\n#plt.scatter(df.Coffee, df.Productivity, marker='+', color='red')\n#PLot productivity values to see the split between Good and Bad\nsizes = df['Productivity'].value_counts(sort = 1)\nplt.pie(sizes, shadow=True, autopct='%1.1f%%')\n#Good to know so we know the proportion of each label\n#STEP 2: DROP IRRELEVANT DATA",
        "detail": "Logistic regression.Logistic_regression",
        "documentation": {}
    },
    {
        "label": "sizes",
        "kind": 5,
        "importPath": "Logistic regression.Logistic_regression",
        "description": "Logistic regression.Logistic_regression",
        "peekOfCode": "sizes = df['Productivity'].value_counts(sort = 1)\nplt.pie(sizes, shadow=True, autopct='%1.1f%%')\n#Good to know so we know the proportion of each label\n#STEP 2: DROP IRRELEVANT DATA\n#In our example, Images_Analyzed reflects whether it is good analysis or bad\n#so should not include it. ALso, User number is just a number and has no inflence\n#on the productivity, so we can drop it.\ndf.drop(['Images_Analyzed'], axis=1, inplace=True)\ndf.drop(['User'], axis=1, inplace=True)\n#STEP 3: Handle missing values, if needed",
        "detail": "Logistic regression.Logistic_regression",
        "documentation": {}
    },
    {
        "label": "#df",
        "kind": 5,
        "importPath": "Logistic regression.Logistic_regression",
        "description": "Logistic regression.Logistic_regression",
        "peekOfCode": "#df = df.dropna()  #Drops all rows with at least one null value. \n#STEP 4: Convert non-numeric to numeric, if needed.\n#Sometimes we may have non-numeric data, for example batch name, user name, city name, etc.\n#e.g. if data is in the form of YES and NO then convert to 1 and 2\ndf.Productivity[df.Productivity == 'Good'] = 1\ndf.Productivity[df.Productivity == 'Bad'] = 2\nprint(df.head())\n#STEP 5: PREPARE THE DATA.\n#Y is the data with dependent variable, this is the Productivity column\nY = df[\"Productivity\"].values  #At this point Y is an object not of type int",
        "detail": "Logistic regression.Logistic_regression",
        "documentation": {}
    },
    {
        "label": "Y",
        "kind": 5,
        "importPath": "Logistic regression.Logistic_regression",
        "description": "Logistic regression.Logistic_regression",
        "peekOfCode": "Y = df[\"Productivity\"].values  #At this point Y is an object not of type int\n#Convert Y to int\nY=Y.astype('int')\n#X is data with independent variables, everything except Productivity column\n# Drop label column from X as you don't want that included as one of the features\nX = df.drop(labels = [\"Productivity\"], axis=1)  \n#print(X.head())\n#STEP 6: SPLIT THE DATA into TRAIN AND TEST data.\nfrom sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, Y, test_size=0.4, random_state=20)",
        "detail": "Logistic regression.Logistic_regression",
        "documentation": {}
    },
    {
        "label": "X",
        "kind": 5,
        "importPath": "Logistic regression.Logistic_regression",
        "description": "Logistic regression.Logistic_regression",
        "peekOfCode": "X = df.drop(labels = [\"Productivity\"], axis=1)  \n#print(X.head())\n#STEP 6: SPLIT THE DATA into TRAIN AND TEST data.\nfrom sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, Y, test_size=0.4, random_state=20)\n#random_state can be any integer and it is used as a seed to randomly split dataset.\n#By doing this we work with same test dataset evry time, if this is important.\n#random_state=None splits dataset randomly every time\n#print(X_train)\n#STEP 7: Defining the model and training.",
        "detail": "Logistic regression.Logistic_regression",
        "documentation": {}
    },
    {
        "label": "model",
        "kind": 5,
        "importPath": "Logistic regression.Logistic_regression",
        "description": "Logistic regression.Logistic_regression",
        "peekOfCode": "model = LogisticRegression()  #Create an instance of the model.\nmodel.fit(X_train, y_train)  # Train the model using training data\n#STEP 8: TESTING THE MODEL BY PREDICTING ON TEST DATA\n#AND CALCULATE THE ACCURACY SCORE\nprediction_test = model.predict(X_test)\nfrom sklearn import metrics\n#Print the prediction accuracy\nprint (\"Accuracy = \", metrics.accuracy_score(y_test, prediction_test))\n#Test accuracy for various test sizes and see how it gets better with more training data\n#UNDERSTAND WHICH VARIABLES HAVE MOST INFLUENCE ON THE OUTCOME",
        "detail": "Logistic regression.Logistic_regression",
        "documentation": {}
    },
    {
        "label": "prediction_test",
        "kind": 5,
        "importPath": "Logistic regression.Logistic_regression",
        "description": "Logistic regression.Logistic_regression",
        "peekOfCode": "prediction_test = model.predict(X_test)\nfrom sklearn import metrics\n#Print the prediction accuracy\nprint (\"Accuracy = \", metrics.accuracy_score(y_test, prediction_test))\n#Test accuracy for various test sizes and see how it gets better with more training data\n#UNDERSTAND WHICH VARIABLES HAVE MOST INFLUENCE ON THE OUTCOME\n# To get the weights of all the variables\nprint(model.coef_) #Print the coefficients for each independent variable. \n#But it is not clear which one corresponds to what.\n#SO let us print both column values and coefficients. ",
        "detail": "Logistic regression.Logistic_regression",
        "documentation": {}
    },
    {
        "label": "weights",
        "kind": 5,
        "importPath": "Logistic regression.Logistic_regression",
        "description": "Logistic regression.Logistic_regression",
        "peekOfCode": "weights = pd.Series(model.coef_[0], index=X.columns.values)\nprint(\"Weights for each variables is a follows...\")\nprint(weights)\n#+VE VALUE INDICATES THAT THE VARIABLE HAS A POSITIVE IMPACT",
        "detail": "Logistic regression.Logistic_regression",
        "documentation": {}
    },
    {
        "label": "df",
        "kind": 5,
        "importPath": "Multiple linear regression.Multi_linear_regression",
        "description": "Multiple linear regression.Multi_linear_regression",
        "peekOfCode": "df = pd.read_excel('other_files/images_analyzed.xlsx')\nprint(df.head())\n#A few plots in Seaborn to understand the data\nimport seaborn as sns\nsns.lmplot(x='Time', y='Images_Analyzed', data=df, hue='Age')  #Scatterplot with linear regression fit and 95% confidence interval\nsns.lmplot(x='Coffee', y='Images_Analyzed', data=df, hue='Age', order=2)\n#Looks like too much coffee is not good... negative effects\n#sns.lmplot(x='Age', y='Images_Analyzed', data=df, hue='Age')\nimport numpy as np\nfrom sklearn import linear_model",
        "detail": "Multiple linear regression.Multi_linear_regression",
        "documentation": {}
    },
    {
        "label": "reg",
        "kind": 5,
        "importPath": "Multiple linear regression.Multi_linear_regression",
        "description": "Multiple linear regression.Multi_linear_regression",
        "peekOfCode": "reg = linear_model.LinearRegression()\n#Now let us call fit method to train the model using independent variables.\n#And the value that needs to be predicted (Images_Analyzed)\nreg.fit(df[['Time', 'Coffee', 'Age']], df.Images_Analyzed) #Indep variables, dep. variable to be predicted\n#Model is ready. Let us check the coefficients, stored as reg.coef_.\n#These are a, b, and c from our equation. \n#Intercept is stored as reg.intercept_\nprint(reg.coef_, reg.intercept_)\n#All set to predict the number of images someone would analyze at a given time\nprint(reg.predict([[13, 2, 23]]))",
        "detail": "Multiple linear regression.Multi_linear_regression",
        "documentation": {}
    }
]